<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center">
  <h1>
    Customer Records
  </h1>
  <hr />
  <button mat-raised-button (click)="getCustomers()">Get Customer List</button>
  <table style="width:100%">
    <tr *ngIf="isGetCustomerListButtonClicked">
      <th>Name</th>
      <th>Occupation</th>
      <th>Id</th>
    </tr>
    <tr *ngFor="let customer of apiService.customers | async">
      <td>{{ customer.name }}</td>
      <td>{{ customer.occupation }}</td>
      <td>{{ customer.id }}</td>
      <button (click)="deleteCustomer(customer.id)">delete</button>
    </tr>
  </table>

  <hr />
  <mat-form-field>
  <input  matInput #customerId placeholder="Enter Customer Id" />
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="getCustomerById(customerId.value)">Search</button>
  <p>
    <span>Name: </span><span>{{ searchedCustomer.name }}</span>
  </p>
  <p>
    <span>Occupation: </span><span>{{ searchedCustomer.occupation }}</span>
  </p>
  <hr />
  <form (ngSubmit)="postCustomer(customer)" novalidate>
    <input
      name="name"
      placeholder="New Customer Name"
      [(ngModel)]="customer.name"
    />
    <input
      name="occupation"
      placeholder="New Customer Occupation"
      [(ngModel)]="customer.occupation"
    />
    <input
      name="customerId"
      placeholder="New Customer Id"
      [(ngModel)]="customer.id"
    />
    <button type="submit">Post New Customer</button>
  </form>
  <hr/>
  <form (ngSubmit)="updateCustomer(updatedCustomer)" novalidate>
    <input
      name="updatedName"
      placeholder="Customer Name"
      [(ngModel)]="updatedCustomer.name"
    />
    <input
      name="updatedOccupation"
      placeholder="Customer Occupation"
      [(ngModel)]="updatedCustomer.occupation"
    />
    <input
      name="customerIdForUpdating"
      placeholder="Customer Id"
      [(ngModel)]="updatedCustomer.id"
    />
    <button type="submit">Update Customer</button>
  </form>
  <hr/>
</div>

<router-outlet></router-outlet>
